2022-07-18 09:09:49,332 INFO [main]	register protocol:1 success
2022-07-18 09:09:49,415 INFO [main]	register protocol:29 success
2022-07-18 09:09:49,419 INFO [main]	register protocol:4 success
2022-07-18 09:09:49,423 INFO [main]	register protocol:3 success
2022-07-18 09:09:49,424 INFO [main]	register protocol:31 success
2022-07-18 09:09:49,425 INFO [main]	register protocol:28 success
2022-07-18 09:09:49,427 INFO [main]	register protocol:32 success
2022-07-18 09:09:49,429 INFO [main]	register protocol:33 success
2022-07-18 09:09:49,429 INFO [main]	register protocol:30 success
2022-07-18 09:09:49,431 INFO [main]	register load balance factory:RandomLoadBalanceFactory success
2022-07-18 09:09:49,431 INFO [main]	register load balance factory:RoundRobinLoadBalanceFactory success
2022-07-18 09:09:49,432 INFO [main]	register load balance factory:WeightLoadBalanceFactory success
2022-07-18 09:09:49,432 INFO [main]	register load balance factory:FairLoadBalanceFactory success
2022-07-18 09:09:49,438 INFO [main]	create thread:server-work-thread-1
2022-07-18 09:09:49,438 INFO [main]	create thread:server-work-thread-2
2022-07-18 09:09:49,472 INFO [main]	use jdk nio event mode
2022-07-18 09:09:49,499 INFO [main]	create thread:timeout-timer-thread-1
2022-07-18 09:09:49,569 WARN [main]	meta file not exist, name=./data/log/metadata
2022-07-18 09:09:49,572 WARN [main]	meta file not exist, name=./data/snapshot/metadata
2022-07-18 09:09:49,605 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftConsensusService, methodName=appendEntries
2022-07-18 09:09:49,607 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftConsensusService, methodName=preVote
2022-07-18 09:09:49,607 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftConsensusService, methodName=requestVote
2022-07-18 09:09:49,610 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftConsensusService, methodName=installSnapshot
2022-07-18 09:09:49,624 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftClientService, methodName=getConfiguration
2022-07-18 09:09:49,625 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftClientService, methodName=getLeader
2022-07-18 09:09:49,627 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftClientService, methodName=addPeers
2022-07-18 09:09:49,629 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.service.RaftClientService, methodName=removePeers
2022-07-18 09:09:49,632 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.example.server.service.ExampleService, methodName=get
2022-07-18 09:09:49,634 INFO [main]	register service, serviceName=com.github.wenweihu86.raft.example.server.service.ExampleService, methodName=set
2022-07-18 09:09:49,666 INFO [main]	create thread:server-acceptor-thread-1
2022-07-18 09:09:49,676 INFO [main]	server started on port=8052 success
2022-07-18 09:09:49,682 INFO [main]	create thread:fairStrategy-timer-thread-1
2022-07-18 09:09:49,684 INFO [main]	create thread:client-work-thread-1
2022-07-18 09:09:49,684 INFO [main]	create thread:client-work-thread-2
2022-07-18 09:09:49,808 INFO [main]	create thread:client-io-thread-1
2022-07-18 09:09:49,820 INFO [main]	create thread:client-io-thread-2
2022-07-18 09:09:49,898 INFO [main]	create thread:fairStrategy-timer-thread-1
2022-07-18 09:09:49,899 INFO [main]	create thread:client-work-thread-1
2022-07-18 09:09:49,909 INFO [main]	create thread:client-work-thread-2
2022-07-18 09:09:49,910 INFO [main]	create thread:client-io-thread-1
2022-07-18 09:09:49,914 INFO [main]	create thread:client-io-thread-2
2022-07-18 09:09:54,849 INFO [client-io-thread-2]	create thread:invalid-channel-callback-thread-1
2022-07-18 09:09:56,829 INFO [pool-3-thread-1]	Running pre-vote in term 0
2022-07-18 09:09:56,832 INFO [pool-2-thread-1]	begin pre vote request
2022-07-18 09:09:56,843 INFO [pool-2-thread-2]	begin pre vote request
2022-07-18 09:09:56,937 INFO [client-work-thread-1]	get pre vote granted from server 2 for term 0
2022-07-18 09:09:56,938 INFO [client-work-thread-1]	preVoteGrantedNum=2
2022-07-18 09:09:56,938 INFO [client-work-thread-1]	get majority pre vote, serverId=3 when pre vote, start vote
2022-07-18 09:09:56,938 INFO [client-work-thread-1]	Running for election in term 1
2022-07-18 09:09:56,947 INFO [pool-2-thread-3]	begin vote request
2022-07-18 09:09:56,948 INFO [pool-2-thread-4]	begin vote request
2022-07-18 09:09:56,963 INFO [client-work-thread-2]	Got vote from server 2 for term 1
2022-07-18 09:09:56,963 INFO [client-work-thread-2]	voteGrantedNum=2
2022-07-18 09:09:56,963 INFO [client-work-thread-2]	Got majority vote, serverId=3 become leader
2022-07-18 09:09:57,021 INFO [client-work-thread-1]	ignore preVote RPC result
2022-07-18 09:09:57,027 INFO [server-acceptor-thread-1]	create thread:server-io-thread-1
2022-07-18 09:09:57,123 INFO [pool-2-thread-6]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:09:57,157 INFO [client-work-thread-2]	ignore requestVote RPC result
2022-07-18 09:09:57,160 INFO [pool-2-thread-5]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:57,472 INFO [pool-2-thread-8]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:09:57,475 INFO [pool-2-thread-7]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:57,976 INFO [pool-2-thread-9]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:57,983 INFO [pool-2-thread-10]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:09:58,474 INFO [pool-2-thread-11]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:58,482 INFO [pool-2-thread-12]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:09:58,979 INFO [pool-2-thread-13]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:58,984 INFO [pool-2-thread-14]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:09:59,483 INFO [pool-2-thread-15]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:59,490 INFO [pool-2-thread-16]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:09:59,989 INFO [pool-2-thread-17]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:09:59,995 INFO [pool-2-thread-18]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:00,495 INFO [pool-2-thread-20]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:00,495 INFO [pool-2-thread-19]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:00,994 INFO [pool-2-thread-1]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:00,995 INFO [pool-2-thread-2]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:01,492 INFO [pool-2-thread-4]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:01,494 INFO [pool-2-thread-3]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:01,993 INFO [pool-2-thread-5]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:01,998 INFO [pool-2-thread-6]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:02,493 INFO [pool-2-thread-7]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:02,495 INFO [pool-2-thread-8]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:02,993 INFO [pool-2-thread-10]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:02,995 INFO [pool-2-thread-9]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:03,496 INFO [pool-2-thread-12]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:03,496 INFO [pool-2-thread-11]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:03,996 INFO [pool-2-thread-14]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:03,997 INFO [pool-2-thread-13]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:04,497 INFO [pool-2-thread-16]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:04,498 INFO [pool-2-thread-15]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:04,996 INFO [pool-2-thread-17]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:04,996 INFO [pool-2-thread-18]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:05,496 INFO [pool-2-thread-19]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:05,497 INFO [pool-2-thread-20]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:05,999 INFO [pool-2-thread-2]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:06,000 INFO [pool-2-thread-1]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:06,498 INFO [pool-2-thread-3]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:06,502 INFO [pool-2-thread-4]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:06,999 INFO [pool-2-thread-6]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:06,999 INFO [pool-2-thread-5]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:07,501 INFO [pool-2-thread-8]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:07,501 INFO [pool-2-thread-7]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:08,000 INFO [pool-2-thread-9]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:08,000 INFO [pool-2-thread-10]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:08,501 INFO [pool-2-thread-11]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:08,502 INFO [pool-2-thread-12]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:09,002 INFO [pool-2-thread-13]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:09,002 INFO [pool-2-thread-14]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:09,502 INFO [pool-2-thread-15]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:09,502 INFO [pool-2-thread-16]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:09,988 INFO [server-acceptor-thread-1]	create thread:server-io-thread-2
2022-07-18 09:10:10,005 INFO [pool-2-thread-17]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:10,008 INFO [pool-2-thread-18]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:10,146 INFO [pool-2-thread-19]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:10,147 INFO [pool-2-thread-19]	new segment meta info, currentTerm=1, votedFor=0, firstLogIndex=1
2022-07-18 09:10:10,147 INFO [pool-2-thread-20]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:10,178 INFO [server-work-thread-1]	set request, request={"key": "hello","value": "zmb"}, response={"success": true}
2022-07-18 09:10:10,502 INFO [pool-2-thread-3]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:10,507 INFO [pool-2-thread-1]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:11,006 INFO [pool-2-thread-4]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:11,006 INFO [pool-2-thread-6]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:11,502 INFO [pool-2-thread-5]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:11,505 INFO [pool-2-thread-8]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:12,004 INFO [pool-2-thread-7]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:12,006 INFO [pool-2-thread-9]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:12,565 INFO [pool-2-thread-10]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:12,570 INFO [pool-2-thread-11]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:13,005 INFO [pool-2-thread-12]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:13,008 INFO [pool-2-thread-13]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:13,505 INFO [pool-2-thread-14]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:13,508 INFO [pool-2-thread-15]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:14,007 INFO [pool-2-thread-17]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:14,010 INFO [pool-2-thread-16]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:14,508 INFO [pool-2-thread-2]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:14,508 INFO [pool-2-thread-18]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:15,026 INFO [pool-2-thread-19]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:15,026 INFO [pool-2-thread-20]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:15,512 INFO [pool-2-thread-3]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:15,521 INFO [pool-2-thread-1]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:16,017 INFO [pool-2-thread-4]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:16,032 INFO [pool-2-thread-6]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:16,511 INFO [pool-2-thread-8]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:16,512 INFO [pool-2-thread-5]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:17,012 INFO [pool-2-thread-7]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:17,013 INFO [pool-2-thread-9]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:17,513 INFO [pool-2-thread-11]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:17,515 INFO [pool-2-thread-10]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:18,015 INFO [pool-2-thread-12]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:18,017 INFO [pool-2-thread-13]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
2022-07-18 09:10:18,514 INFO [pool-2-thread-14]	AppendEntries response[RES_CODE_SUCCESS] from server 1 in term 1 (my term is 1)
2022-07-18 09:10:18,514 INFO [pool-2-thread-15]	AppendEntries response[RES_CODE_SUCCESS] from server 2 in term 1 (my term is 1)
